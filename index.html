<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Athlete Check-in System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js"></script>
    <style>
        /* Add your existing CSS here */
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f4f4f4; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .alert { position: fixed; top: 20px; right: 20px; padding: 10px; border-radius: 5px; }
        .alert-success { background: #d4edda; color: #155724; }
        .alert-error { background: #f8d7da; color: #721c24; }
        .alert-warning { background: #fff3cd; color: #856404; }
        .athlete-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); justify-content: center; align-items: center; }
        .modal-content { background: white; padding: 20px; border-radius: 5px; width: 90%; max-width: 500px; }
        .loading-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); justify-content: center; align-items: center; }
        .spinner { border: 4px solid #f3f3f3; border-top: 4px solid #3498db; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        /* Add more styles as needed */
    </style>
</head>
<body>
    <!-- UI Elements -->
    <div class="tabs">
        <button class="tab-btn" data-tab="scan">Scan QR</button>
        <button class="tab-btn" data-tab="search">Search</button>
        <button class="tab-btn" data-tab="stats">Stats</button>
        <button class="tab-btn" data-tab="log">Activity Log</button>
        <button id="refresh-data">Refresh Data</button>
    </div>

    <div id="scan" class="tab-content">
        <button id="start-scan"><i class="fas fa-camera"></i> Start Scanner</button>
        <div id="qr-reader" style="width: 100%; max-width: 500px;"></div>
    </div>

    <div id="search" class="tab-content">
        <input type="text" id="search-input" placeholder="Search by name, bib, phone, or email">
        <button id="search-btn"><i class="fas fa-search"></i> Search</button>
        <div id="search-results"></div>
    </div>

    <div id="stats" class="tab-content">
        <p>Total Athletes: <span id="total-athletes">0</span></p>
        <p>Checked In: <span id="checked-in">0</span></p>
        <p>Pending: <span id="pending">0</span></p>
    </div>

    <div id="log" class="tab-content">
        <div id="activity-log"></div>
    </div>

    <div id="athlete-modal" class="athlete-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div id="athlete-info"></div>
            <div id="capture-photo">
                <video id="camera-view" autoplay playsinline></video>
                <canvas id="camera-canvas" style="display: none;"></canvas>
                <img id="captured-image" alt="Captured photo" style="display: none; width: 100%;">
                <button id="start-camera">Start Camera</button>
                <button id="capture-button" style="display: none;">Capture Photo</button>
                <button id="retry-capture" style="display: none;">Retry</button>
            </div>
            <button id="confirm-checkin">Confirm Check-in</button>
            <button id="cancel-checkin">Cancel</button>
        </div>
    </div>

    <div id="loading-overlay" class="loading-overlay">
        <div class="spinner"></div>
    </div>

</body>
</html>
